<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://gbr-cieluv.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://GBR-CIELUV.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Fabric Server" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/08/11/Fabric%20Server/" class="article-date">
  <time class="dt-published" datetime="2024-08-10T17:39:21.000Z" itemprop="datePublished">2024-08-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/08/11/Fabric%20Server/">Minecraft Fabric服务端搭建</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="服务端下载"><a href="#服务端下载" class="headerlink" title="服务端下载"></a>服务端下载</h1><p>环境：MacOS Sonoma 14.4 M2 ram8GB<br>服务端信息：Minecraft 1.20.1 FabricLoader 0.15.11</p>
<h2 id="安装Java-已安装可略过"><a href="#安装Java-已安装可略过" class="headerlink" title="安装Java(已安装可略过)"></a>安装Java(已安装可略过)</h2><p>服务端需要用Java运行，可在终端执行以下命令测试本机是否已安装Java：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>

<p>如果本机已安装Java，则会出现类似下面的版本号信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openjdk 17.0.12 2024-07-16</span><br><span class="line">OpenJDK Runtime Environment Homebrew (build 17.0.12+0)</span><br><span class="line">OpenJDK 64-Bit Server VM Homebrew (build 17.0.12+0, mixed mode, sharing)</span><br></pre></td></tr></table></figure>

<p>若没有显示版本号信息，则说明本机没有安装Java。Mac用户可以使用Homebrew来安装Java。如果尚未安装Homebrew，则可以执行以下命令安装Homebrew：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>安装好Homebrew后，执行以下命令来安装特定版本Java(我这里安装的是openjdk17)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install openjdk@17</span><br></pre></td></tr></table></figure>

<h3 id="配置Java环境变量"><a href="#配置Java环境变量" class="headerlink" title="配置Java环境变量"></a>配置Java环境变量</h3><p>安装完成后，我们还需要配置环境变量。在终端执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -sfn /opt/homebrew/opt/openjdk\@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</span><br></pre></td></tr></table></figure>

<p>执行后，再次使用<code>java -version</code>来验证Java是否安装成功</p>
<h3 id="非终端下载Java"><a href="#非终端下载Java" class="headerlink" title="非终端下载Java"></a>非终端下载Java</h3><p>我们还可以通过<a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/javase-jdk11-downloads.html">Oracle官网</a>来安装Java，进入网页后选择适合自己系统的Java版本，下载后进行安装，系统会自动配置Java环境变量。</p>
<h2 id="下载Fabric服务端"><a href="#下载Fabric服务端" class="headerlink" title="下载Fabric服务端"></a>下载Fabric服务端</h2><p>进入<a target="_blank" rel="noopener" href="https://fabricmc.net/use/server/">Fabric官网</a>选择相应Minecraft版本、Fabric版本来安装服务端的.jar文件（我选择的是1.20.1版本的0.15.11的Fabric，在下文启动过程中要把文件替换成你们所下载的版本）。或在终端上输入官网上所显示的curl命令来安装。（最好在本地上创建一个文件夹，cd后输入该命令。或下载后手动移动到文件架内）</p>
<hr>
<h1 id="启动服务端"><a href="#启动服务端" class="headerlink" title="启动服务端"></a>启动服务端</h1><p>启动终端，进入到你服务端文件所在的文件架。在终端输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar ./fabric-server-mc.1.20.1-loader.0.15.11-launcher.1.0.1.jar</span><br></pre></td></tr></table></figure>

<p>如果需要设置内存大小，可以按照以下格式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar -Xms [初始内存大小] -Xmx [最大内存大小] -jar [name].jar</span><br></pre></td></tr></table></figure>

<p>也可以在此文件架内创建一个.sh脚本文件，这样以后启动服务器就不需要每次都输入命令。</p>
<hr>
<p>在输入命令后，第一次启动会报错。显示<code>You need to agree the EULA in order to run the server. Go to eula.txt for more info.</code>  </p>
<p>我们需要同意协议才能启动服务端，此时文件架会多出来几个文件。我们编辑其中的eula.txt文件，把最后一行的<code>eula=false</code>改成<code>eula=true</code>就可以了。然后再次运行命令就可以启动服务端了。</p>
<h1 id="客户端进入服务器"><a href="#客户端进入服务器" class="headerlink" title="客户端进入服务器"></a>客户端进入服务器</h1><p>进入游戏后，在多人游戏的服务器地址中输入localhost即可进入服务器。局域网内的人可以使用[你运行服务端的机器的ip地址]:25565来进入服务器，但局域网外的人因为一些<strong>众所周知</strong>的原因而不能直接连接，所以我们需要配置端口转发或者内网穿透。在这里，我们使用内网穿透来将内网服务暴露到外网。</p>
<h2 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h2><p>常见的内网穿透技术，如Frp、Nps，都要求用户具有一台有公网ip的服务器。但大多数人都没有一台含公网ip的服务器，所以我们要使用提供一站式的内网穿透工具。  </p>
<p>常见的不需要我们配置服务端的内网穿透的工具有：ngrok、sunny-ngrok、natapp、sakurafrp等。  </p>
<p>由于其他的都需要进行实名验证，而我只是一个苦逼准高中生，所以我们使用natapp，natapp的实名验证只需要满16岁。（本人在验证时没有满16岁，所以我怀疑natapp的实名验证只需要核对名字与身份证号码，而没有年龄限制，也没有刷脸）  </p>
<p>进入<a target="_blank" rel="noopener" href="https://natapp.cn/">natapp官网</a>后，注册登陆帐号后完成实名验证，获取一个免费的隧道。协议使用TCP协议，本地端口填25565。获取隧道后在我的隧道页面中配置我们获取的隧道，复制隧道的authtoken</p>
<p>我们需要下载它的客户端，点击客户端下载，选择相应的系统并下载，解压缩。解压缩后会出现一个natapp文件，这个就是客户端。我们在此文件架内打开终端并输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./natapp -authtoken=[你复制的隧道authtoken]</span><br></pre></td></tr></table></figure>

<p>执行后即可进行内网穿透。此时终端界面Forwarding后面的<code>tcp://server.natappfree.cc:[端口号]</code>就是公网可以访问的地址。此时本机的<code>127.0.0.1:25565</code>上的服务（25565端口即Minecraft服务端开放的端口）已经被穿透到了此地址。  </p>
<p>此时我们在Minecraft的服务器地址内输入<code>server.natappfree.cc:[端口号]</code>即可加入服务器。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://gbr-cieluv.github.io/2024/08/11/Fabric%20Server/" data-id="clzogwuvm0000j0gn7tjg52hx" data-title="Minecraft Fabric服务端搭建" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/08/11/Fabric%20Server/">Minecraft Fabric服务端搭建</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>